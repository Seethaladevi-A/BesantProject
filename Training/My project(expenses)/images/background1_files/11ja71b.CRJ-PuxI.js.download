import"./bygoogle.CvWie-eQ.js";import{b as y,a as w,q as v,x as b,c as x,s as C}from"./index.C2Bsx7mS.js";import{o as S}from"./share-url.CLKzmojS.js";import{p as T,h}from"./hue.Cgboh-aJ.js";import{a1 as k}from"./reactivity.esm-bundler.Bhwgk5wr.js";import"./prf-down.nHEuUWk-.js";import"./video.Do6qm_fy.js";import"./nav.CPgwJXT2.js";import"./client.BwFJPEc3.js";import"./11ja71b.Bd_jOSxL.js";import"./searchbar.Dml8-FJP.js";import"./howto.C-nKFw7f.js";import"./client.CqgKiRKP.js";import"./scroll.Bnd7YWQd.js";import"./core.DIHShMDH.js";function $(i,e){if(!i)return;const t=document.getElementById(e)||document.createElement("iframe");t.id=e,t.src=i,document.body.appendChild(t)}function E(){if(!__DATA__.isBot){const{id:i,type:e}=s;y.get("/api/statistics/view",{id:i,type:e}),e=="1"?y.get("/api/statistics/detail-out-view",{id:i}):e=="5"&&T("font_detail",1,"come")}}const s=window._getDetailData(),_=k({spin:!1}),m=()=>{_.spin=!1},g=i=>{m(),i&&window.open(i,"_blank")},D=()=>{v("rbg_id_type","".concat(s.id,"_").concat(s.type),{domain:".pngtree.com",expires:1}),g("/remove-background")},L={png:"down-btnfreepng",rar:"down-btnfreerar",ppt:"down-btnfreerar",premium:"down-btnvippng",edit:"down-btnedit",freevideo:"down-btnfreevideo"};function A(i,e,t,n){if(!i||_.spin)return;const o=s.one>0||s.limitedTime,r=()=>{if(!o&&__DATA__.vipType<=0&&+s.vipType>0)return m(),n.dialog="upgrade-premium",!0};if(i==="remove-bg"){r()||(h("detail/ai-btn-remove-bg"),D());return}if(!__DATA__.isLogined){w.emit("_pri6n4"),h("down-btnnologin-"+i);return}switch(_.spin=!0,h(L[i]),i){case"png":case"rar":case"ppt":case"twibbon":const a=i==="png";e&&o?g(e):w.emit("_amemn8","*",{onend:m,type:s.type,btnType:i,licenseType:s.vipType||0,href:e,downUrl:e,rarName:t||"PSD",fee:s.fee&&a});break;case"edit":e&&s.editips&&confirm(s.editips)&&(e=e.replace(/\/canvas\/?\?/,"/canvas/designer.html?")),r()||g(e);break;case"freevideo":$(e,"down_ifr"),m();break;default:g(e);break}}b("_1r0qupz",i=>({tab:i.tab,prfLoading:!1,tabCls(e){return this.tab===e?"_c5516n":""},onTab(e){this.tab=e},licPrf(e){const t=this.$app;if(!t.tapLogin())return;const n=e==="enterprise",o=n?"team":"",r=s.one>0,{vipType:a,enterpriseStatus:f}=__DATA__,p=n?f!=1:a<=0;if(!r&&p)t.onDialog(n?"_5j84hy":"_1mbqn4s"),h("prfview-btn"+o);else if(!this.prfLoading){this.prfLoading=!0;const d=this._Refs.prfDown,u=()=>{this.prfLoading=!1};d.onshow({...d.getName(s.one,e),slidesdocs:!!s.slidesdocs,data:{action:"detail",id:s.id,type:s.type},resolve:u,reject:u}),h("prfdown-btn"+o)}}}));b("_1um5rr9",i=>({url:i.url,followed:i.is,loading:!1,onFollow(){const e=this.$app;!this.loading&&e.tapLogin()&&(this.loading=!0,y.post("/api/async/designer-follow",{id:i.uid}).then(t=>{this.loading=!1,t.status===200&&(this.followed=!this.followed)}).catch(()=>{this.loading=!1}))}}));b("_166ljwa",i=>{const e="_sstrbf";return{store:_,previewSpin:!1,videoSize:"",wordsExpand:i.is2xl,wordsCount:"+10",wordsFromCls:i.is2xl?"":e,get showVideoDown(){return this.videoSize==="down"},"on:mounted"(){const t=this._Refs.hangs;t&&t.setIds(s.id,s.type),this.wordsCalc(),E()},wordsMinHeight(t){t.style.height="38px",t.style.overflow="hidden"},wordsOnExpand(){if(this.wordsFromCls=e,this.wordsExpand=!this.wordsExpand,this.wordsExpand){const t=this.$refs.wordsbtn,n=t&&t.parentElement;if(!n)return;n.appendChild(t)}else setTimeout(()=>{this.wordsCalc()},200)},wordsCalc(){if(window.innerWidth<1024)return;const t=this.$refs.wordsbtn,n=t&&t.parentElement;if(!n)return;const o=n.children,r=o.length,a=o[r-1];if(r<=1||a&&a.offsetTop<=0)return;const f=(p,d)=>{if(this.wordsCount="+"+(r-1-d),n.insertBefore(t,p),t.offsetTop>0){const u="previousElementSibling";let c=t[u];for(;c&&c.offsetTop>0;)c=c[u];c&&f(c,d-1)}else n._btn=p,n._btni=d;t.classList.remove("_1i3kt2s")};if(n._btn){f(n._btn,n._btni);return}for(let p=0;p<r;p++){const d=o[p];if(d.offsetTop>0){f(d,p);break}}},onDownld(t,n,o){A(t,n,o,this.$app)},mDownld(){C(40,{target:document.querySelector("._bvrn6v")})},onCopy(){},onPreview(){if(this.previewSpin)return;const t=this.$refs.imgLink,n=this.$refs.image;if(!t||!n)return;const o=t.href||n.currentSrc||n.src;if(!o)return;const r=()=>{w.emit("_kuxk9d",{src:o,width:t._nw,height:t._nh}),this.previewSpin=!1};if(this.previewSpin=!0,setTimeout(()=>{h("detail-preview-image")},80),t._nw){r();return}const a=new Image;a.onload=()=>{t._nw=a.naturalWidth,t._nh=a.naturalHeight,r()},a.onabort=a.onerror=()=>{this.previewSpin=!1,$toast.error("Load failed!")},a.decoding="async",a.src=o},likeSpin(){const t=this._Refs.hangs;return t?t.likeSpin({id:s.id,type:s.type}):""},likeCls(){const t=this._Refs.hangs;return t?t.likeIcoCls({id:s.id,type:s.type}):""},onLike(){const t=this._Refs.hangs;t&&t.onLike(s.id,s.type)},urlCopying:!1,onShareUrl(){x(location.href).then(()=>(this.urlCopying=!0,this.$nextTick())).then(()=>{setTimeout(()=>{this.urlCopying=!1},2800)})},onShare(t){const n=this.$refs.image;n&&S({name:t,media:n.currentSrc||n.src,title:s.sharetit,word:s.shareword})},how2Attri(){const t=this._Refs.howToAttribute,n=this.$refs.lionName;t.onopen({type:s.type,url:location.pathname,usrName:n&&n.textContent||""})}}});const I=i=>i*(96/72);b("_e05maq",i=>({text:"",pt:i.pt,effectId:i.eid,loading:!1,get textCls(){return"effects-text"+this.effectId},get textStyl(){return"--font-size:".concat(I(this.pt),"px")},get fontText(){return this.text||i.p},ptCls(e){return this.pt===e?"_4x0icu":"_1t7gxnv"},ptClick(e){this.pt=e},effectCls(e){return this.effectId===e?"_1abob5y":"_oqy7bn"},effectClick(e){this.effectId=e},"on:mounted"(){R(),this.initCanvas()},initCanvas(){},downPng(){if(this.loading)return;if(this.$app.tapLogin()){const t=this.fontText.trim();if(!t)return;this.loading=!0;const n=()=>{this.loading=!1},o=this.$refs.spanTxt,r=o&&o.parentElement;if(!r)return;const a=this.$refs.canvas,f=getComputedStyle(o);w.emit("_h3jjzr",{styles:{left:o.offsetLeft,top:o.offsetTop+1.25,fontFamily:f.fontFamily,fontSize:parseInt(f.fontSize),fontWeight:f.fontWeight,fontStyle:f.fontStyle},effectId:this.effectId,text:t,textWidth:o.offsetWidth,canvasWidth:r.offsetWidth,canvasHeight:r.offsetHeight,cid:a.id,onok:n,onerr(){n(),$toast.error("Error!")}})}}}));function R(){const i=document.querySelector("style[data-font-style]");if(i&&i.sheet){const e=i.sheet.cssRules,t=e.length;for(let n=0;n<t;n++)W(e[n].cssText);i.parentElement.removeChild(i)}}let l;function W(i){l||(l=document.createElement("style"),document.head.appendChild(l),l.appendChild(document.createTextNode(""))),l.sheet&&l.sheet.insertRule(i,l.sheet.cssRules.length)}
